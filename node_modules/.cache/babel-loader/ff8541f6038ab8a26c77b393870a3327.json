{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\visao\\\\OneDrive\\\\Desktop\\\\SWP_FE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\visao\\\\OneDrive\\\\Desktop\\\\SWP_FE\\\\src\\\\BodyContent\\\\LoginBar.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport GoogleLogin from 'react-google-login';\nimport './LoginBar.css';\nexport default function LoginBar(_ref) {\n  var isLoggedIn = _ref.isLoggedIn;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var handleEmailChange = function handleEmailChange(e) {\n    setEmail(e.target.value);\n  };\n  var handlePasswordChange = function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var data = {\n      email: email,\n      password: password\n    };\n    axios.post('https://dencelclinic.onrender.com/api/auth/login', data).then(function (response) {\n      console.log(response.data);\n      setIsLoggedIn(true); // Cập nhật trạng thái đăng nhập thành công\n    }).catch(function (error) {\n      if (error.response) {\n        setErrorMessage(error.response.data.message);\n      } else {\n        setErrorMessage('An error occurred. Please try again later.');\n      }\n    });\n  };\n  var handleGoogleLoginSuccess = function handleGoogleLoginSuccess(response) {\n    console.log(response);\n  };\n  var handleGoogleLoginFailure = function handleGoogleLoginFailure(error) {\n    console.log(error);\n  };\n  if (isLoggedIn) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 16\n      }\n    }, \"Xin ch\\xE0o!\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      id: \"email\",\n      value: email,\n      onChange: handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      id: \"password\",\n      value: password,\n      onChange: handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    })), errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 34\n      }\n    }, errorMessage), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"\\u0110\\u0103ng k\\xFD t\\xE0i kho\\u1EA3n\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"YOUR_GOOGLE_CLIENT_ID\",\n      buttonText: \" \\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Google\",\n      onSuccess: handleGoogleLoginSuccess,\n      onFailure: handleGoogleLoginFailure,\n      cookiePolicy: 'single_host_origin',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    })));\n  }\n}","map":{"version":3,"names":["React","useState","Link","axios","GoogleLogin","LoginBar","_ref","isLoggedIn","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","handleEmailChange","e","target","value","handlePasswordChange","handleSubmit","preventDefault","data","post","then","response","console","log","setIsLoggedIn","catch","error","message","handleGoogleLoginSuccess","handleGoogleLoginFailure","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","type","placeholder","id","onChange","to","clientId","buttonText","onSuccess","onFailure","cookiePolicy"],"sources":["C:/Users/visao/OneDrive/Desktop/SWP_FE/src/BodyContent/LoginBar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport GoogleLogin from 'react-google-login';\nimport './LoginBar.css';\n\nexport default function LoginBar({ isLoggedIn }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const data = {\n            email: email,\n            password: password\n        };\n\n        axios\n            .post('https://dencelclinic.onrender.com/api/auth/login', data)\n            .then((response) => {\n                console.log(response.data);\n                setIsLoggedIn(true); // Cập nhật trạng thái đăng nhập thành công\n            })\n            .catch((error) => {\n                if (error.response) {\n                    setErrorMessage(error.response.data.message);\n                } else {\n                    setErrorMessage('An error occurred. Please try again later.');\n                }\n            });\n    };\n\n    const handleGoogleLoginSuccess = (response) => {\n        console.log(response);\n    };\n\n    const handleGoogleLoginFailure = (error) => {\n        console.log(error);\n    };\n\n    if (isLoggedIn) {\n        return <div>Xin chào!</div>;\n    } else {\n        return (\n            <form className=\"login-form\" onSubmit={handleSubmit}>\n                <h3>Đăng nhập</h3>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        id=\"email\"\n                        value={email}\n                        onChange={handleEmailChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        id=\"password\"\n                        value={password}\n                        onChange={handlePasswordChange}\n                    />\n                </div>\n\n                {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n\n                <button type=\"submit\">Đăng nhập</button>\n\n                <div className=\"login-links\">\n                    <Link to=\"/register\">Đăng ký tài khoản</Link>\n                    <Link to=\"/forgot-password\">Quên mật khẩu</Link>\n                </div>\n\n                <div className=\"social\">\n                    <GoogleLogin\n                        clientId=\"YOUR_GOOGLE_CLIENT_ID\"\n                        buttonText=\" Đăng nhập bằng Google\"\n                        onSuccess={handleGoogleLoginSuccess}\n                        onFailure={handleGoogleLoginFailure}\n                        cookiePolicy={'single_host_origin'}\n                    />\n                </div>\n            </form>\n        );\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}