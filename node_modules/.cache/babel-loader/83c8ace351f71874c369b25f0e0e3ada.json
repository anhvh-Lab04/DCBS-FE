{"ast":null,"code":"import _slicedToArray from \"E:\\\\Semester 5\\\\SWP\\\\swp_demo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\Semester 5\\\\SWP\\\\swp_demo\\\\src\\\\BodyContent\\\\LoginBar.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport GoogleLogin from 'react-google-login';\nimport './LoginBar.css';\nexport default function LoginBar() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isLoggedIn = _useState8[0],\n    setIsLoggedIn = _useState8[1];\n  var handleEmailChange = function handleEmailChange(e) {\n    setEmail(e.target.value);\n  };\n  var handlePasswordChange = function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  };\n  var handleLogout = function handleLogout() {\n    setIsLoggedIn(false);\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var data = {\n      email: email,\n      password: password\n    };\n    axios.post('https://dencelclinic.onrender.com/api/auth/login', data).then(function (response) {\n      console.log(response.data);\n      setIsLoggedIn(true);\n      alert(\"Ch\\xE0o m\\u1EEBng \".concat(response.data.fullname, \"!\")); // Hiển thị thông báo chào mừng\n    }).catch(function (error) {\n      if (error.response) {\n        setErrorMessage(error.response.data.message);\n      } else {\n        setErrorMessage('An error occurred. Please try again later.');\n      }\n    });\n  };\n  var handleGoogleLoginSuccess = function handleGoogleLoginSuccess(response) {\n    console.log(response);\n  };\n  var handleGoogleLoginFailure = function handleGoogleLoginFailure(error) {\n    console.log(error);\n  };\n  if (isLoggedIn) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"Xin ch\\xE0o!\"));\n  } else {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      id: \"email\",\n      value: email,\n      onChange: handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      id: \"password\",\n      value: password,\n      onChange: handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    })), errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 34\n      }\n    }, errorMessage), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"\\u0110\\u0103ng k\\xFD t\\xE0i kho\\u1EA3n\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"YOUR_GOOGLE_CLIENT_ID\",\n      buttonText: \" \\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Google\",\n      onSuccess: handleGoogleLoginSuccess,\n      onFailure: handleGoogleLoginFailure,\n      cookiePolicy: 'single_host_origin',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    })));\n  }\n}","map":{"version":3,"names":["React","useState","Link","axios","GoogleLogin","LoginBar","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","isLoggedIn","setIsLoggedIn","handleEmailChange","e","target","value","handlePasswordChange","handleLogout","handleSubmit","preventDefault","data","post","then","response","console","log","alert","concat","fullname","catch","error","message","handleGoogleLoginSuccess","handleGoogleLoginFailure","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","type","placeholder","id","onChange","to","clientId","buttonText","onSuccess","onFailure","cookiePolicy"],"sources":["E:/Semester 5/SWP/swp_demo/src/BodyContent/LoginBar.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport GoogleLogin from 'react-google-login';\r\nimport './LoginBar.css';\r\n\r\nexport default function LoginBar() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        setIsLoggedIn(false);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            email: email,\r\n            password: password\r\n        };\r\n\r\n        axios\r\n            .post('https://dencelclinic.onrender.com/api/auth/login', data)\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                setIsLoggedIn(true);\r\n                alert(`Chào mừng ${response.data.fullname}!`); // Hiển thị thông báo chào mừng\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    setErrorMessage(error.response.data.message);\r\n                } else {\r\n                    setErrorMessage('An error occurred. Please try again later.');\r\n                }\r\n            });\r\n    };\r\n\r\n    const handleGoogleLoginSuccess = (response) => {\r\n        console.log(response);\r\n    };\r\n\r\n    const handleGoogleLoginFailure = (error) => {\r\n        console.log(error);\r\n    };\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <div>\r\n                {/* Thêm nội dung chào mừng */}\r\n                <div>Xin chào!</div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <form className=\"login-form\" onSubmit={handleSubmit}>\r\n                <h3>Đăng nhập</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        id=\"email\"\r\n                        value={email}\r\n                        onChange={handleEmailChange}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        id=\"password\"\r\n                        value={password}\r\n                        onChange={handlePasswordChange}\r\n                    />\r\n                </div>\r\n\r\n                {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n\r\n                <button type=\"submit\">Đăng nhập</button>\r\n\r\n                <div className=\"login-links\">\r\n                    <Link to=\"/register\">Đăng ký tài khoản</Link>\r\n                    <Link to=\"/forgot-password\">Quên mật khẩu</Link>\r\n                </div>\r\n\r\n                <div className=\"social\">\r\n                    <GoogleLogin\r\n                        clientId=\"YOUR_GOOGLE_CLIENT_ID\"\r\n                        buttonText=\" Đăng nhập bằng Google\"\r\n                        onSuccess={handleGoogleLoginSuccess}\r\n                        onFailure={handleGoogleLoginFailure}\r\n                        cookiePolicy={'single_host_origin'}\r\n                    />\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}